<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/cli_layout}">

<th:block layout:fragment="content">

    <t-h1 en="LEAGUE" ko="리그"></t-h1>


    <t-h2 th:ko="${l.leagueVO.leagueName}"></t-h2>

    <table class="table">
        <tbody>
            <tr>
                <td>
                    <span th:text="${l.leagueVO.leagueId}"></span><br>
                    <convert-c-code th:data="${l.leagueVO.leagueStatusCd}"></convert-c-code><br>
                    <span th:text="${#dates.format(l.leagueVO.startDate, 'yyyy-MM-dd') + ' - ' + #dates.format(l.leagueVO.endDate, 'yyyy-MM-dd')}">시작일</span><br>
                    <span>상금 : </span><span th:text="${l.leagueVO.prizeMoney}">상금</span><br>
                    <span th:text="${'참가비 : ' + l.leagueVO.entryFee}">참가비</span><br>
                    <span th:text="${'승리팀 : ' + l.leagueVO.winningTeam}">승리팀</span><br>
                </td>
            </tr>
            <tr>
                <!-- 팀이 없는 경우 -->
                <td th:if="${l.loginedMember.getTeamId() == 0}">
                    <h3 class="h3">나의 팀</h3>
                    <div class="message-caution">
                        소속 팀이 없습니다.<br>
                        <span>📢팀을 생성하셔야 리그에 참가할 수 있습니다.</span>
                    </div>
                    <div class="button__box">
                        <a class="c-button" href="">팀 생성</a>
                    </div>
                </td>

                <!-- 팀이 있는 경우 -->
                <td th:if="${l.loginedMember.getTeamId() != 0}">
                    <!-- 세션을 통해 팀 조회, 없으면 팀생성 버튼 -->
                    <h3>팀조회</h3>
                    <span th:text="${l.teamVO.getTeamId()}">팀아이디</span><br>
                    <span th:text="${l.teamVO.getLeader()}">팀장</span><br>
                    <span th:text="${l.teamVO.getTeamName()}">팀이름</span><br>
                    <span th:text="${l.teamVO.getTotalGameCnt()}">팀 게임수</span><br>
                    <span th:text="${l.teamVO.getWin()}">팀 승수</span>

                    <!-- 팀이 있으면 팀원 option 생성 후 select 에 append -->
                    <h3 class="h3">팀원 선택</h3>
                    <select name="" id="" class="form-control">
                    <!-- option 을 불러오는 태그 필요 -->
                        <team-members></team-members>
                    </select>
                    <div class="button__box">
                        <a class="c-button" href="">참가하기</a>
                    </div>
                </td>

            </tr>
        </tbody>
    </table>



</th:block>

</html>