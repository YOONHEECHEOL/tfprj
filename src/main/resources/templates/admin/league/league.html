<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="/layout/adm_layout">

<body>

<th:block layout:fragment="content">

  <a-h1 ko="Î¶¨Í∑∏Í¥ÄÎ¶¨" en="LEAGUE"></a-h1>
  <div class="row" id="output">

    <div class="col">

      <div class="row justify-content-end">
        <div class="col-2">
          <button class="c-button" id="addLeague">Î¶¨Í∑∏ÏÉùÏÑ±</button>
        </div>
      </div>

      <t-h2 ko="ÌòÑÏû¨ ÏßÑÌñâ Ï§ë Î¶¨Í∑∏"></t-h2>
      <table class="table">
        <tbody th:each="l, status: ${l.currentList}">
        <tr>
          <td><span th:text="${l.leagueId}">Î¶¨Í∑∏ID</span></td>
          <td>
            <h4 class="h4" th:text="${l.leagueName}">Î¶¨Í∑∏Î™Ö</h4>
            <convert-c-code th:data="${l.leagueStatusCd}"></convert-c-code>
            <br>
            <!--          <span>Îì±Î°ùÏùº</span><span th:text="${#dates.format(l.rgstDate, 'yyyy-MM-dd')}">Îì±Î°ùÏùº</span><br>-->
            <span th:text="${#dates.format(l.startDate, 'yyyy-MM-dd') + ' - ' + #dates.format(l.endDate, 'yyyy-MM-dd')}">ÏãúÏûëÏùº</span><br>
            <span>ÏÉÅÍ∏à : </span><span th:text="${l.prizeMoney}">ÏÉÅÍ∏à</span><br>
            <!--          <span th:text="${l.leagueStatusCd}">Î¶¨Í∑∏ÏÉÅÌÉúÏΩîÎìú</span><br>-->
            <!--          <span th:text="${l.tournamentId}">ÌÜ†ÎÑàÎ®ºÌä∏ID</span><br>-->
            <span th:text="${'Ï∞∏Í∞ÄÎπÑ : ' + l.entryFee}">Ï∞∏Í∞ÄÎπÑ</span><br>
            <span th:text="${l.winningTeam}">ÏäπÎ¶¨ÌåÄ</span><br>
          </td>
        </tr>
        </tbody>
      </table>

      <t-h2 ko="ÏßÄÎÇú Î¶¨Í∑∏"></t-h2>
      <table class="table">
        <tbody th:each="l, status: ${l.passedList}">
        <tr>
          <td><span th:text="${l.leagueId}">Î¶¨Í∑∏ID</span></td>
          <td>
            <h4 class="h4" th:text="${l.leagueName}">Î¶¨Í∑∏Î™Ö</h4>
            <convert-c-code th:data="${l.leagueStatusCd}"></convert-c-code>
            <br>
            <!--          <span>Îì±Î°ùÏùº</span><span th:text="${#dates.format(l.rgstDate, 'yyyy-MM-dd')}">Îì±Î°ùÏùº</span><br>-->
            <span th:text="${#dates.format(l.startDate, 'yyyy-MM-dd') + ' - ' + #dates.format(l.endDate, 'yyyy-MM-dd')}">ÏãúÏûëÏùº</span><br>
            <span>ÏÉÅÍ∏à : </span><span th:text="${l.prizeMoney}">ÏÉÅÍ∏à</span><br>
            <!--          <span th:text="${l.leagueStatusCd}">Î¶¨Í∑∏ÏÉÅÌÉúÏΩîÎìú</span><br>-->
            <!--          <span th:text="${l.tournamentId}">ÌÜ†ÎÑàÎ®ºÌä∏ID</span><br>-->
            <span th:text="${'Ï∞∏Í∞ÄÎπÑ : ' + l.entryFee}">Ï∞∏Í∞ÄÎπÑ</span><br>
            <span th:text="${l.winningTeam}">ÏäπÎ¶¨ÌåÄ</span><br>
          </td>
        </tr>
        </tbody>
      </table>

    </div>
    <!-- Ïù¥Í≥≥Ïóê Î¶¨Í∑∏ÏÉùÏÑ± ÌéòÏù¥ÏßÄ Ï∂îÍ∞ÄÎê® -->

  </div>


  <script>

    // Î¶¨Í∑∏ ÏÉùÏÑ± ÌéòÏù¥ÏßÄ Ï∂úÎ†•
    addLeague.addEventListener('click', () => {
      console.log();
      if (output.children.length != 2) {
        let c = document.createElement('div')
        c.setAttribute('class', 'col-4')

        c.innerHTML = `
                        <t-h2 ko="Î¶¨Í∑∏ ÏÉùÏÑ±ÌïòÍ∏∞"></t-h2>
                        <form action="/adm/insertLeague" id="frm" class="" method="post">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Î¶¨Í∑∏Î™Ö" name="leagueName" value="tea league">
                            </div>
                            <div class="form-group">
                                <label for="room">Íµ¨Ïû•ÏÑ†ÌÉù</label>
                                <select name="room" id="room">
                                    <option value="">ÏÑ† ÌÉù</option>
                                    <option value="">1Î≤à Íµ¨Ïû•</option>
                                    <option value="">2Î≤à Íµ¨Ïû•</option>
                                    <option value="">3Î≤à Íµ¨Ïû•</option>
                                    <option value="">4Î≤à Íµ¨Ïû•</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <input type="date" name="startDate">
                                <span> - </span>
                                <input type="date" name="endDate">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Î¶¨Í∑∏ÏÉÅÍ∏à" name="prizeMoney" value="1000">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Ï∞∏Í∞ÄÌåÄ Ïàò" name="participationTeam" value="8">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="1000" name="participationMember" value="3">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Ïö∞Ïäπ Ìä∏Î°úÌîº" name="prizeGood" value="1000">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Ïö∞Ïäπ Ìä∏Î°úÌîº" name="winningTeam" value="none">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Ïö∞Ïäπ Ìä∏Î°úÌîº" name="leagueStatusCd" value="501">
                            </div>
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Ïö∞Ïäπ Ìä∏Î°úÌîº" name="tournamentId" value="1">
                            </div>
                            <div class="form-group">
                                <input type="text" value="1000" class="form-control" placeholder="1000" name="entryFee">
                            </div>
                            <div class="form-group">
                                <input type="text" value="n" class="form-control" placeholder="1000" name="isApply">
                            </div>
                            <div class="form-group">
                                <input type="button" value="üîª">
                                <input type="text" value="4" name="participationMember">
                                <input type="button" value="üî∫">
                            </div>

                        </form>
                        <div class="button__box">
                            <button class="c-button">Ï∑®ÏÜåÌïòÍ∏∞</button>
                            <button class="c-button" id="submitFrm">Î¶¨Í∑∏ÏÉùÏÑ±</button>
                        </div>
                    `

        output.append(c);
        submitFrm()
      } else {
        output.children[1].remove()
      }
    })


    // Î¶¨Í∑∏ ÏÉùÏÑ± validate
    const submitFrm = () => {
      let frmBtn = document.querySelector('#submitFrm');

      frmBtn.addEventListener('click', () => {
        document.querySelector('#frm').submit()
      })
    }


  </script>

</th:block>

</body>
</html>